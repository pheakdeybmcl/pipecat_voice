# fs_engine runtime settings (clean / production)

# Audio / VAD
VAD_MODE=3
START_SPEECH_FRAMES=4
END_SILENCE_MS=900
MAX_UTTERANCE_SECONDS=8
MIN_UTTERANCE_MS=300
MIN_UTTERANCE_RMS=0.0035
VAD_RMS_THRESHOLD=0.0045
NOISE_FLOOR_ALPHA=0.95
NOISE_FLOOR_MULT=4.0
MIN_WORDS=2
MIN_AVG_LOGPROB=-1.3
MAX_NO_SPEECH_PROB=0.8
MIN_WORDS_NON_EN=1
MIN_AVG_LOGPROB_NON_EN=-1.8
MAX_NO_SPEECH_PROB_NON_EN=0.95
ALLOW_BARGE_IN=true
LISTEN_DURING_TTS=true
POST_TTS_GRACE_MS=250
TTS_CHARS_PER_SECOND=16
TTS_MIN_SUPPRESS_MS=1000
MAX_TTS_SUPPRESS_SEC=20

# STT
WHISPER_SIZE=base
WHISPER_DEVICE=cpu
WHISPER_COMPUTE_TYPE=int8
WHISPER_CPU_THREADS=4
WHISPER_NUM_WORKERS=1
STT_LANGUAGE=auto
DEFAULT_LANGUAGE=en
ALLOWED_LANGS=en,km
LANG_LOCK_MIN_PROB=0.85
STT_MAX_CONCURRENCY=1

# Hangup intent (optional)
HANGUP_ENABLED=true
HANGUP_PHRASES=goodbye,bye,bye bye,see you,see ya,that's all,that is all,hang up,end call,disconnect,stop calling
HANGUP_STRONG_PHRASES=hang up,end call,disconnect,terminate call
HANGUP_MAX_WORDS=6
HANGUP_TEXT=Thanks for calling. Goodbye.
HANGUP_DELAY_MS=200

# IVR language selection (DTMF first)
IVR_LANG_SELECT_ENABLED=false
IVR_LANG_TIMEOUT_MS=0
IVR_LANG_PROMPT=For English press 1. For Khmer press 2. For Hindi press 3.
IVR_LANG_MAP=1=en,2=km,3=hi
IVR_LANG_WELCOME_EN=Welcome. How can I help you today?
IVR_LANG_WELCOME_KM=សូមស្វាគមន៍។ តើខ្ញុំអាចជួយអ្វីបានដែរ?
IVR_LANG_WELCOME_HI=नमस्ते। मैं आपकी कैसे मदद कर सकता हूँ?
IVR_SPEECH_ENABLED=false
IVR_SPEECH_MAX_WORDS=3
IVR_SPEECH_MAP=en=english,eng|km=khmer,kh,ខ្មែរ

# LLM (Ollama)
OLLAMA_BASE_URL=http://127.0.0.1:11434
OLLAMA_MODE=generate
OLLAMA_MODEL=qwen3:0.6b
LLM_NUM_CTX=4096
LLM_MAX_TOKENS=160
LLM_TIMEOUT_SEC=45
LLM_DISABLE_TIMEOUT=true
LLM_STREAM=true
TTS_STREAM_MIN_CHARS=80
OLLAMA_STOP=
OLLAMA_USE_NATIVE_FALLBACK=true
LLM_EMPTY_REPLY=

# TTS
TTS_BACKEND=edge
TTS_STREAMING_ENABLED=true
TTS_AUDIO_TYPE=mp3
LANG_VOICE_MAP=km=km-KH-SreymomNeural,hi=hi-IN-SwaraNeural,en=en-US-JennyNeural
PIPER_FALLBACK_EDGE=false

# App behavior
LOG_LEVEL=INFO
FS_ENGINE_ENV_OVERRIDE=true
COMPANY_PROFILE_PATH=company_profile.json
ALLOWED_TOPICS=
OFFTOPIC_RESPONSE=I can help with BigfootMediaTech services like voice, messaging, eSIM, plans, pricing, billing, or support. How can I assist?
OFFTOPIC_RESPONSE_SHORT=Please say: voice, messaging, eSIM, plans, billing, or support.
OFFTOPIC_REPEAT_LIMIT=2
GREETING_ENABLED=false
